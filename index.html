<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Echo Of The World</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#111;
  color:white;
  display:flex;
  flex-direction:column;
  height:100vh;
}

.page{
  flex:1;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  position:relative;
}

.active{
  display:flex;
}

.counter{
  font-size:28px;
  margin-bottom:20px;
}

canvas{
  cursor:pointer;
  transition:transform 0.1s;
}

.plusOne {
  position:absolute;
  color:gold;
  font-weight:bold;
  font-size:22px;
  animation: floatUp 0.8s forwards;
  pointer-events:none;
}

@keyframes floatUp {
  0% { opacity:1; transform: translateY(0); }
  100% { opacity:0; transform: translateY(-60px); }
}

.navbar{
  height:70px;
  background:#222;
  display:flex;
  justify-content:space-around;
  align-items:center;
  border-top:1px solid #333;
}

.navbtn{
  color:#aaa;
  font-size:14px;
  cursor:pointer;
}

.navbtn.active{
  color:gold;
}
</style>
</head>

<body>

<div id="home" class="page active">
  <div class="counter">Love Coin: <span id="count">0</span></div>
  <canvas id="loveCoinCanvas" width="220" height="220"></canvas>
</div>

<div id="profile" class="page">
  <h2>Profile</h2>
</div>

<div id="settings" class="page">
  <h2>Settings</h2>
</div>

<div class="navbar">
  <div class="navbtn active" onclick="showPage('home', this)">Home</div>
  <div class="navbtn" onclick="showPage('profile', this)">Profile</div>
  <div class="navbtn" onclick="showPage('settings', this)">Settings</div>
</div>

<script>
let count = localStorage.getItem("loveCoin");
count = count ? parseInt(count) : 0;
document.getElementById("count").innerText = count;

const canvas = document.getElementById('loveCoinCanvas');
const ctx = canvas.getContext('2d');

function drawCoin(){
  const w = canvas.width;
  const h = canvas.height;

  ctx.clearRect(0,0,w,h);

  // گرادینت 3D
  const grad = ctx.createRadialGradient(w/2,h/2,30,w/2,h/2,w/2);
  grad.addColorStop(0,'#FFD700');
  grad.addColorStop(1,'#001F3F');

  ctx.fillStyle = grad;
  ctx.beginPath();
  ctx.arc(w/2,h/2,w/2-5,0,Math.PI*2);
  ctx.fill();

  // خطوط چرخیده
  ctx.strokeStyle='rgba(255,215,0,0.5)';
  ctx.lineWidth=1;
  for(let i=0;i<10;i++){
    ctx.beginPath();
    ctx.arc(w/2,h/2,(w/2-10)*(i+1)/10,0,Math.PI*1.5);
    ctx.stroke();
  }

  // قلب
  ctx.fillStyle='#FFD700';
  ctx.beginPath();
  ctx.moveTo(w/2,h/2+10);
  ctx.bezierCurveTo(w/2+15,h/2-10,w/2+45,h/2+20,w/2,h/2+45);
  ctx.bezierCurveTo(w/2-45,h/2+20,w/2-15,h/2-10,w/2,h/2+10);
  ctx.fill();

  ctx.font='bold 18px Arial';
  ctx.textAlign='center';
  ctx.fillText('H',w/2,h/2-25);
  ctx.fillText('LOVE',w/2,h/2+75);
}
drawCoin();

canvas.addEventListener('click',(e)=>{
  count++;
  localStorage.setItem('loveCoin',count);
  document.getElementById("count").innerText=count;

  canvas.style.transform='scale(1.1)';
  setTimeout(()=>canvas.style.transform='scale(1)',100);

  const plus=document.createElement('div');
  plus.innerText='+1';
  plus.classList.add('plusOne');

  const rect=canvas.getBoundingClientRect();
  plus.style.left=rect.left+rect.width/2+'px';
  plus.style.top=rect.top+rect.height/2+'px';

  document.getElementById('home').appendChild(plus);
  setTimeout(()=>plus.remove(),800);
});

function showPage(pageId, btn){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.querySelectorAll(".navbtn").forEach(b=>b.classList.remove("active"));
  document.getElementById(pageId).classList.add("active");
  btn.classList.add("active");
}
</script>

</body>
</html>
