<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Echo Of The World</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#111;
  color:white;
  display:flex;
  flex-direction:column;
  height:100vh;
}

.page{
  flex:1;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}

.active{
  display:flex;
}

.coin{
  width:200px;
  height:200px;
  border-radius:50%;
  background:gold;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:24px;
  font-weight:bold;
  color:#000;
  box-shadow:0 0 40px gold;
  cursor:pointer;
  transition:transform 0.1s;
}

.coin:active{
  transform:scale(0.9);
}

.counter{
  font-size:28px;
  margin-bottom:20px;
}

@keyframes pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

@keyframes floatUp {
  0% { opacity:1; transform: translateY(0); }
  100% { opacity:0; transform: translateY(-60px); }
}

.pop {
  animation: pop 0.2s ease;
}

.plusOne {
  position:absolute;
  color:gold;
  font-weight:bold;
  font-size:22px;
  animation: floatUp 0.8s forwards;
  pointer-events:none;
  }

.navbar{
  height:70px;
  background:#222;
  display:flex;
  justify-content:space-around;
  align-items:center;
  border-top:1px solid #333;
}

.navbtn{
  color:#aaa;
  font-size:14px;
  cursor:pointer;
}

.navbtn.active{
  color:gold;
}
</style>
</head>

<body>

<!-- صفحه اصلی -->
<div id="home" class="page active">
  <div class="counter">Love Coin: <span id="count">0</span></div>
  <div class="coin" onclick="addCoin()">Love Coin</div>
</div>

<!-- صفحه پروفایل -->
<div id="profile" class="page">
  <h2>Profile</h2>
  <p>Coming Soon...</p>
</div>

<!-- صفحه تنظیمات -->
<div id="settings" class="page">
  <h2>Settings</h2>
  <p>Coming Soon...</p>
</div>

<!-- نوار پایین -->
<div class="navbar">
  <div class="navbtn active" onclick="showPage('home', this)">Home</div>
  <div class="navbtn" onclick="showPage('profile', this)">Profile</div>
  <div class="navbtn" onclick="showPage('settings', this)">Settings</div>
</div>

<canvas id="loveCoinCanvas" width="200" height="200" style="cursor:pointer;"></canvas>
  
<script>
let count = localStorage.getItem("loveCoin");

if(count === null){
  count = 0;
}else{
  count = parseInt(count);
}

document.getElementById("count").innerText = count;

const canvas = document.getElementById('loveCoinCanvas');
const ctx = canvas.getContext('2d');
let count = localStorage.getItem("loveCoin");
if(count===null) count = 0;
else count = parseInt(count);

document.getElementById("count").innerText = count;

// تابع رسم سکه
function drawCoin(){
  const w = canvas.width;
  const h = canvas.height;

  ctx.clearRect(0,0,w,h);

  // پس‌زمینه سورمه‌ای با گرادینت طلایی
  const grad = ctx.createRadialGradient(w/2,h/2,w/8,w/2,h/2,w/2);
  grad.addColorStop(0,'#FFD700'); // طلایی
  grad.addColorStop(1,'#001F3F'); // سورمه‌ای
  ctx.fillStyle = grad;
  ctx.beginPath();
  ctx.arc(w/2,h/2,w/2-2,0,Math.PI*2);
  ctx.fill();
  ctx.closePath();

  // خطوط نازک چرخیده
  ctx.strokeStyle = 'rgba(255,215,0,0.6)';
  ctx.lineWidth = 1.5;
  for(let i=0;i<12;i++){
    ctx.beginPath();
    ctx.arc(w/2,h/2,(w/2-5)*(i+1)/12,0,Math.PI*2*(0.2+i*0.08));
    ctx.stroke();
  }

  // قلب طلایی وسط
  ctx.fillStyle = '#FFD700';
  ctx.beginPath();
  ctx.moveTo(w/2,h/2+10);
  ctx.bezierCurveTo(w/2+15,h/2-10, w/2+45,h/2+20, w/2,h/2+40);
  ctx.bezierCurveTo(w/2-45,h/2+20, w/2-15,h/2-10, w/2,h/2+10);
  ctx.fill();
  ctx.closePath();

  // H کوچک بالای قلب
  ctx.fillStyle='#FFD700';
  ctx.font='bold 16px Arial';
  ctx.textAlign='center';
  ctx.fillText('H',w/2,h/2-20);

  // LOVE پایین قلب
  ctx.font='bold 20px Arial';
  ctx.fillText('LOVE',w/2,h/2+60);

  // سایه 3D ساده
  ctx.shadowColor = 'rgba(0,0,0,0.5)';
  ctx.shadowBlur = 10;
  ctx.shadowOffsetX = 3;
  ctx.shadowOffsetY = 3;
}
drawCoin();

// جمع کردن سکه با کلیک
canvas.addEventListener('click',()=>{
  count++;
  localStorage.setItem('loveCoin', count);
  document.getElementById("count").innerText = count;

  // افکت پاپ
  canvas.style.transform='scale(1.1)';
  setTimeout(()=> canvas.style.transform='scale(1)',100);
});
  
function addCoin(){
  count++;
  document.getElementById("count").innerText = count;
  localStorage.setItem("loveCoin", count);

  const coin = document.querySelector(".coin");

  // افکت پاپ
  coin.classList.add("pop");
  setTimeout(()=> coin.classList.remove("pop"), 200);

  // +1 شناور
  const plus = document.createElement("div");
  plus.innerText = "+1";
  plus.classList.add("plusOne");

  const rect = coin.getBoundingClientRect();
  plus.style.left = rect.left + rect.width/2 + "px";
  plus.style.top = rect.top + rect.height/2 + "px";

  document.body.appendChild(plus);

  setTimeout(()=> plus.remove(), 800);
  }
  
function showPage(pageId, btn){
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.querySelectorAll(".navbtn").forEach(b => b.classList.remove("active"));
  document.getElementById(pageId).classList.add("active");
  btn.classList.add("active");
}
</script>

</body>
</html>
